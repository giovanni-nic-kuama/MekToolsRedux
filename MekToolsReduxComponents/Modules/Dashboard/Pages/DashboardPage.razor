@page "/"

<div class="p-5">
  <AppBar ProjectName="MekToolsRedux" ProjectPath="@ProjectInfos?.ProjectPath" OnUnloadProjectClick="@UnloadProject"/>

  @if (ProjectInfos != null)
  {
    <div class="my-5">
      <div class="text-xl font-extrabold mb-3">Project Infos</div>
      <ProjectInfosRow ProjectInfo="@ProjectInfos"/>
    </div>

    if (ProjectInfos?.ModulesPath != null)
    {
      <div class="my-5">
        <div class="text-xl font-extrabold mb-3">Generation settings</div>
        <ProjectSettingsCardsRow ProjectSettings="@ProjectSettings" OnSettingsChange="@OnProjectSettingsChange"/>
      </div>
      
      <div class="my-5">
        <div class="text-xl font-extrabold mb-3">Project structure & generated structure</div>
        <ProjectStructureRow ProjectFolders="@ProjectFolders" ModulePreviewModel="@ModulePreviewModel" />
      </div>
      
      <div class="my-5">
        <BottomBar OnClickGenerateModule="@OnClickGenerateModule" />
      </div>
    }
  }
  else
  {
    <div class="my-5">
      <ProjectPathForm OnValidProjectPath="@OnValidProjectPath" />
    </div>
  }
</div>